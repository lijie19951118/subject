import{r as be,i as xe,o as Ee,c as Pe,e as Se}from"./index-bd82a3f5.js";const g="4.0.0";class Re{constructor(e,t){this.response=e,this.controller=t,this.decoder=new ve}async*iterMessages(){if(!this.response.body)throw this.controller.abort(),new Error("Attempted to iterate over a response with no body");const e=new y,t=_e(this.response.body);for await(const r of t)for(const s of e.decode(r)){const i=this.decoder.decode(s);i&&(yield i)}for(const r of e.flush()){const s=this.decoder.decode(r);s&&(yield s)}}async*[Symbol.asyncIterator](){let e=!1;try{for await(const t of this.iterMessages())if(!e){if(t.data.startsWith("[DONE]")){e=!0;continue}if(t.event===null)try{yield JSON.parse(t.data)}catch(r){throw console.error("Could not parse message into JSON:",t.data),console.error("From chunk:",t.raw),r}}e=!0}catch(t){if(t instanceof Error&&t.name==="AbortError")return;throw t}finally{e||this.controller.abort()}}}class ve{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,s]=Ae(e,":");return s.startsWith(" ")&&(s=s.substring(1)),t==="event"?this.event=s:t==="data"&&this.data.push(s),null}}class y{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const r=y.NEWLINE_CHARS.has(t[t.length-1]||"");let s=t.split(y.NEWLINE_REGEXP);return s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(e){var t;if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Error(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return(t=this.textDecoder)!==null&&t!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Error(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Error("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}y.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);y.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function Ae(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}function _e(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class c extends Error{constructor(e,t,r,s){super(c.makeMessage(t,r)),this.status=e,this.headers=s;const i=t;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,t){return e!=null&&e.message?typeof e.message=="string"?e.message:JSON.stringify(e.message):e?JSON.stringify(e):t||"Unknown error occurred"}static generate(e,t,r,s){if(!e)return new F({cause:he(t)});const i=t==null?void 0:t.error;return e===400?new te(e,i,r,s):e===401?new ne(e,i,r,s):e===403?new re(e,i,r,s):e===404?new se(e,i,r,s):e===409?new ie(e,i,r,s):e===422?new oe(e,i,r,s):e===429?new ae(e,i,r,s):e>=500?new ue(e,i,r,s):new c(e,i,r,s)}}class H extends c{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class F extends c{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,t&&(this.cause=t)}}class ee extends F{constructor(){super({message:"Request timed out."})}}class te extends c{constructor(){super(...arguments),this.status=400}}class ne extends c{constructor(){super(...arguments),this.status=401}}class re extends c{constructor(){super(...arguments),this.status=403}}class se extends c{constructor(){super(...arguments),this.status=404}}class ie extends c{constructor(){super(...arguments),this.status=409}}class oe extends c{constructor(){super(...arguments),this.status=422}}class ae extends c{constructor(){super(...arguments),this.status=429}}class ue extends c{}const Ie=n=>{},ke=fetch.bind(void 0),Te=!1,Le=FormData,J=File;async function Ce(n,e){return{...e,body:new Xe(n)}}async function je(){throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")}function Ue(n){return!1}const ce=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function",Be=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&le(n),le=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",$e=n=>Be(n)||ce(n)||Ue();async function de(n,e,t={}){var r,s,i;if(n=await n,ce(n)){const a=await n.blob();return e||(e=(r=new URL(n.url).pathname.split(/[\\/]/).pop())!==null&&r!==void 0?r:"unknown_file"),new J([a],e,t)}const o=await qe(n);if(e||(e=(s=Fe(n))!==null&&s!==void 0?s:"unknown_file"),!t.type){const a=(i=o[0])===null||i===void 0?void 0:i.type;typeof a=="string"&&(t={...t,type:a})}return new J(o,e,t)}async function qe(n){var e;let t=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)t.push(n);else if(le(n))t.push(await n.arrayBuffer());else if(Oe(n))for await(const r of n)t.push(r);else throw new Error(`Unexpected data type: ${typeof n}; constructor: ${(e=n==null?void 0:n.constructor)===null||e===void 0?void 0:e.name}; props: ${Ne(n)}`);return t}function Ne(n){return`[${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}function Fe(n){var e;return M(n.name)||M(n.filename)||((e=M(n.path))===null||e===void 0?void 0:e.split(/[\\/]/).pop())}const M=n=>{if(typeof n=="string")return n;if(typeof Buffer<"u"&&n instanceof Buffer)return String(n)},Oe=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";class Xe{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}const G=n=>n&&typeof n=="object"&&n.body&&n[Symbol.toStringTag]==="MultipartBody",x=async n=>{const e=await De(n.body);return Ce(e,n)},De=async n=>{const e=new Le;return await Promise.all(Object.entries(n||{}).map(([t,r])=>V(e,t,r))),e},V=async(n,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")n.append(e,String(t));else if($e(t)){const r=await de(t);n.append(e,r)}else if(Array.isArray(t))await Promise.all(t.map(r=>V(n,e+"[]",r)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([r,s])=>V(n,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}};var Me=globalThis&&globalThis.__classPrivateFieldSet||function(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},We=globalThis&&globalThis.__classPrivateFieldGet||function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},S;const He=2;async function fe(n){const{response:e}=n;if(n.options.stream)return new Re(e,n.controller);const t=e.headers.get("content-type");if(t!=null&&t.includes("application/json")){const s=await e.json();return v("response",e.status,e.url,e.headers,s),s}const r=await e.text();return v("response",e.status,e.url,e.headers,r),r}class O extends Promise{constructor(e,t=fe){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new O(this.responsePromise,async t=>e(await this.parseResponse(t)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Ve{constructor({baseURL:e,maxRetries:t,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=e,this.maxRetries=W("maxRetries",t??He),this.timeout=W("timeout",r),this.httpAgent=s,this.fetch=i??ke}authHeaders(){return{}}defaultHeaders(){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Ye(),...this.authHeaders()}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${st()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(s=>({method:e,path:t,...s})))}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}return null}buildRequest(e){var t,r,s,i,o,a;const{method:f,path:D,query:E,headers:l={}}=e,p=G(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,w=this.calculateContentLength(p),P=this.buildURL(D,E);"timeout"in e&&W("timeout",e.timeout);const b=(t=e.timeout)!==null&&t!==void 0?t:this.timeout,h=(s=(r=e.httpAgent)!==null&&r!==void 0?r:this.httpAgent)!==null&&s!==void 0?s:Ie(),K=b+1e3;typeof((i=h==null?void 0:h.options)===null||i===void 0?void 0:i.timeout)=="number"&&K>((o=h.options.timeout)!==null&&o!==void 0?o:0)&&(h.options.timeout=K),this.idempotencyHeader&&f!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const m={...w&&{"Content-Length":w},...this.defaultHeaders(),...l};G(e.body)&&!Te&&delete m["Content-Type"],Object.keys(m).forEach(z=>m[z]===null&&delete m[z]);const we={method:f,...p&&{body:p},headers:m,...h&&{agent:h},signal:(a=e.signal)!==null&&a!==void 0?a:null};return this.validateHeaders(m,l),{req:we,url:P,timeout:b}}async prepareRequest(e,{url:t}){}makeStatusError(e,t,r,s){return c.generate(e,t,r,s)}request(e,t=null){return new O(this.makeRequest(e,t))}async makeRequest(e,t){var r,s,i;const o=await e;t==null&&(t=(r=o.maxRetries)!==null&&r!==void 0?r:this.maxRetries);const{req:a,url:f,timeout:D}=this.buildRequest(o);if(await this.prepareRequest(a,{url:f}),v("request",f,o,a.headers),!((s=o.signal)===null||s===void 0)&&s.aborted)throw new H;const E=new AbortController,l=await this.fetchWithTimeout(f,a,D,E).catch(he);if(l instanceof Error){if(!((i=o.signal)===null||i===void 0)&&i.aborted)throw new H;if(t)return this.retryRequest(o,t);throw l.name==="AbortError"?new ee:new F({cause:l})}const p=Je(l.headers);if(!l.ok){if(t&&this.shouldRetry(l))return this.retryRequest(o,t,p);const w=await l.text().catch(()=>"Unknown"),P=Ze(w),b=P?void 0:w;throw v("response",l.status,f,p,b),this.makeStatusError(l.status,P,b,p)}return{response:l,options:o,controller:E}}requestAPIList(e,t){const r=this.makeRequest(t,null);return new ze(this,r,e)}buildURL(e,t){const r=tt(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return rt(s)||(t={...s,...t}),t&&(r.search=this.stringifyQuery(t)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([t,r])=>typeof r<"u").map(([t,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(t)}=`;throw new Error(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,r,s){const{signal:i,...o}=t||{};i&&i.addEventListener("abort",()=>s.abort());const a=setTimeout(()=>s.abort(),r);return this.getRequestClient().fetch(e,{signal:s.signal,...o}).finally(()=>{clearTimeout(a)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,r){var s;t-=1;const i=parseInt((r==null?void 0:r["retry-after"])||""),o=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries,a=this.calculateRetryTimeoutSeconds(t,i,o)*1e3;return await nt(a),this.makeRequest(e,t)}calculateRetryTimeoutSeconds(e,t,r){if(Number.isInteger(t)&&t<=60)return t;const o=r-e,a=Math.min(.5*Math.pow(o-1,2),2),f=Math.random()-.5;return a+f}getUserAgent(){return`${this.constructor.name}/JS ${g}`}}class Ke{constructor(e,t,r,s){S.set(this,void 0),Me(this,S,e,"f"),this.options=s,this.response=t,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Error("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e)t.query={...t.query,...e.params};else if("url"in e){const r=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[s,i]of r)e.url.searchParams.set(s,i);t.query=void 0,t.path=e.url.toString()}return await We(this,S,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(S=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class ze extends O{constructor(e,t,r){super(t,async s=>new r(e,s.response,await fe(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}const Je=n=>new Proxy(Object.fromEntries(n.entries()),{get(e,t){const r=t.toString();return e[r.toLowerCase()]||e[r]}}),Ge=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":g,"X-Stainless-OS":Y(Deno.build.os),"X-Stainless-Arch":Q(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":Deno.version};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":g,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":g,"X-Stainless-OS":Y(process.platform),"X-Stainless-Arch":Q(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const n=Qe();return n?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":g,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${n.browser}`,"X-Stainless-Runtime-Version":n.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":g,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Qe(){if(!navigator||typeof navigator>"u")return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${s}.${i}.${o}`}}}return null}const Q=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Y=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let R;const Ye=()=>R??(R=Ge()),Ze=n=>{try{return JSON.parse(n)}catch{return}},et=new RegExp("^(?:[a-z]+:)?//","i"),tt=n=>et.test(n),nt=n=>new Promise(e=>setTimeout(e,n)),W=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Error(`${n} must be an integer`);if(e<0)throw new Error(`${n} must be a positive integer`);return e},he=n=>n instanceof Error?n:new Error(n),Z=n=>{var e,t,r,s;if(typeof process<"u")return(t=(e=process.env)===null||e===void 0?void 0:e[n])!==null&&t!==void 0?t:void 0;if(typeof Deno<"u")return(s=(r=Deno.env)===null||r===void 0?void 0:r.get)===null||s===void 0?void 0:s.call(r,n)};function rt(n){if(!n)return!0;for(const e in n)return!1;return!0}function v(n,...e){typeof process<"u"&&process.env.DEBUG==="true"&&console.log(`OpenAI:DEBUG:${n}`,...e)}const st=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)}),it=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class X extends Ke{constructor(e,t,r,s){super(e,t,r,s),this.object=r.object,this.data=r.data}getPaginatedItems(){return this.data}nextPageParams(){return null}nextPageInfo(){return null}}class d{constructor(e){this.client=e,this.get=e.get.bind(e),this.post=e.post.bind(e),this.patch=e.patch.bind(e),this.put=e.put.bind(e),this.delete=e.delete.bind(e),this.getAPIList=e.getAPIList.bind(e)}}class A extends d{create(e,t){return this.post("/audio/transcriptions",x({body:e,...t}))}}A||(A={});class _ extends d{create(e,t){return this.post("/audio/translations",x({body:e,...t}))}}_||(_={});class I extends d{constructor(){super(...arguments),this.transcriptions=new A(this.client),this.translations=new _(this.client)}}(function(n){n.Transcriptions=A,n.Translations=_})(I||(I={}));let k=class extends d{create(e,t){var r;return this.post("/chat/completions",{body:e,...t,stream:(r=e.stream)!==null&&r!==void 0?r:!1})}};k||(k={});class T extends d{constructor(){super(...arguments),this.completions=new k(this.client)}}(function(n){n.Completions=k})(T||(T={}));class L extends d{create(e,t){var r;return this.post("/completions",{body:e,...t,stream:(r=e.stream)!==null&&r!==void 0?r:!1})}}L||(L={});class C extends d{create(e,t){return this.post("/embeddings",{body:e,...t})}}C||(C={});class j extends d{create(e,t){return this.post("/edits",{body:e,...t})}}j||(j={});class U extends d{create(e,t){return this.post("/files",x({body:e,...t}))}retrieve(e,t){return this.get(`/files/${e}`,t)}list(e){return this.getAPIList("/files",pe,e)}del(e,t){return this.delete(`/files/${e}`,t)}retrieveContent(e,t){return this.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t==null?void 0:t.headers}})}}class pe extends X{}U||(U={});class B extends d{create(e,t){return this.post("/fine-tunes",{body:e,...t})}retrieve(e,t){return this.get(`/fine-tunes/${e}`,t)}list(e){return this.getAPIList("/fine-tunes",me,e)}cancel(e,t){return this.post(`/fine-tunes/${e}/cancel`,t)}listEvents(e,t,r){var s;return this.get(`/fine-tunes/${e}/events`,{query:t,timeout:864e5,...r,stream:(s=t==null?void 0:t.stream)!==null&&s!==void 0?s:!1})}}class me extends X{}B||(B={});class $ extends d{createVariation(e,t){return this.post("/images/variations",x({body:e,...t}))}edit(e,t){return this.post("/images/edits",x({body:e,...t}))}generate(e,t){return this.post("/images/generations",{body:e,...t})}}$||($={});class q extends d{retrieve(e,t){return this.get(`/models/${e}`,t)}list(e){return this.getAPIList("/models",ge,e)}del(e,t){return this.delete(`/models/${e}`,t)}}class ge extends X{}q||(q={});class N extends d{create(e,t){return this.post("/moderations",{body:e,...t})}}N||(N={});var ye;class u extends Ve{constructor(e){var t,r,{apiKey:s=Z("OPENAI_API_KEY"),organization:i=(t=Z("OPENAI_ORG_ID"))!==null&&t!==void 0?t:null,...o}=e===void 0?{}:e;if(s===void 0)throw new Error("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'my apiKey' }).");const a={apiKey:s,organization:i,baseURL:"https://api.openai.com/v1",...o};if(!a.dangerouslyAllowBrowser&&it())throw new Error(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:(r=a.timeout)!==null&&r!==void 0?r:6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new L(this),this.chat=new T(this),this.edits=new j(this),this.embeddings=new C(this),this.files=new U(this),this.images=new $(this),this.audio=new I(this),this.moderations=new N(this),this.models=new q(this),this.fineTunes=new B(this),this._options=a,this.apiKey=s,this.organization=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(){return{...super.defaultHeaders(),"OpenAI-Organization":this.organization,...this._options.defaultHeaders}}authHeaders(){return{Authorization:`Bearer ${this.apiKey}`}}}ye=u;u.OpenAI=ye;u.APIError=c;u.APIConnectionError=F;u.APIConnectionTimeoutError=ee;u.APIUserAbortError=H;u.NotFoundError=se;u.ConflictError=ie;u.RateLimitError=ae;u.BadRequestError=te;u.AuthenticationError=ne;u.InternalServerError=ue;u.PermissionDeniedError=re;u.UnprocessableEntityError=oe;(function(n){n.toFile=de,n.fileFromPath=je,n.Page=X,n.Completions=L,n.Chat=T,n.Edits=j,n.Embeddings=C,n.Files=U,n.FileObjectsPage=pe,n.Images=$,n.Audio=I,n.Moderations=N,n.Models=q,n.ModelsPage=ge,n.FineTunes=B,n.FineTunesPage=me})(u||(u={}));const ot=u,at={class:""},lt={__name:"index",setup(n){const e=be("");async function t(){const i=await new ot({apiKey:"",dangerouslyAllowBrowser:!0}).chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"user",content:"Hello!"}],stream:!0});for await(const o of i)console.log(o.choices[0].delta)}function r(){const s=new Headers;s.append("Authorization",e.value),fetch("https://api.openai.com/v1/chat/completions",{method:"post",headers:s})}return xe(()=>{t()}),(s,i)=>(Ee(),Pe("div",at,[Se("button",{onClick:r},"发送")]))}};export{lt as default};
