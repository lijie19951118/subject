import{_ as w,u as b,a as h,b as v,l as g,E as V}from"./index-64dbbdc2.js";import{r as k}from"./request-af127911.js";import{B as I,e as y,r as B,g as l,o as C,c as F,a as p,m as o,k as s,u as c,q as R,av as S,aw as E}from"./myVue-f9a41b77.js";const N=t=>(S("data-v-a96bd39d"),t=t(),E(),t),q={class:"main"},U={class:"login"},M=N(()=>p("div",{class:"title"},"欢迎登录",-1)),T={__name:"index",setup(t){b();const _=h();I();const m=y(),e=B({name:"",password:""});function i(){k({url:"/users/login",method:"post",data:{user_name:e.username,password:e.password}}).then(r=>{r.code===0&&(localStorage.setItem("token",r.result.token),V.success("登录成功！"),_.push("/"))})}return(r,a)=>{const u=l("el-input"),n=l("el-form-item"),f=l("el-button"),x=l("el-form");return C(),F("div",q,[p("div",U,[o(x,{ref_key:"ruleFormRef",ref:m,model:e,"label-width":"auto",class:"demo-ruleForm","status-icon":""},{default:s(()=>[M,o(n,{prop:"name"},{default:s(()=>[o(u,{modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=d=>e.username=d),clearable:"",placeholder:"账号","prefix-icon":c(v)},null,8,["modelValue","prefix-icon"])]),_:1}),o(n,{prop:"password"},{default:s(()=>[o(u,{modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=d=>e.password=d),clearable:"","show-password":"",placeholder:"密码","prefix-icon":c(g)},null,8,["modelValue","prefix-icon"])]),_:1}),o(n,null,{default:s(()=>[o(f,{class:"login-btn",type:"primary",onClick:i},{default:s(()=>[R("登录")]),_:1})]),_:1})]),_:1},8,["model"])])])}}},D=w(T,[["__scopeId","data-v-a96bd39d"]]);export{D as default};
