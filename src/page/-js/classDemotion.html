<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<script>
		class Cat {
			constructor(name) {
				this.name = name
			}
			get color() {
				return 'çº¢è‰²'
			}
			set color(value) {
				console.log(`ä½ è®¾ç½®äº†é¢œè‰²ä¸º${value}`)
			}
			sayName() {
				console.log(`æˆ‘çš„åå­—æ˜¯${this.name}`)
			}
		}

		const miao =  new Cat('miao');
		// console.log(miao)
		// miao.sayName();
		// console.log(miao.color);
		// miao.color = 'ç™½è‰²';

		/**
		 * classé™çº§============================ 
		 * 1ï¼ŒåŸºæœ¬åŠŸèƒ½	30
		 * 2ï¼Œæš‚æ—¶æ€§æ­»åŒº	40
		 * 3ï¼Œéœ€è¦ä½¿ç”¨newè°ƒç”¨	50
		 * 4ï¼Œè®¿é—®å™¨get set	60
		 * 5ï¼Œè®¿é—®å™¨ä¸å¯æšä¸¾	70
		 * 6ï¼ŒåŸå‹ä¸Šçš„å‡½æ•°ä¸å¯æšä¸¾	80
		 * 7ï¼ŒåŸå‹ä¸Šçš„å‡½æ•°ä¸èƒ½ä½¿ç”¨newè°ƒç”¨	90
		*/

		var Cat2 = (function(){
			function Cat2(name) {
				if(Object.getPrototypeOf(this) !== Cat2.prototype) {
					throw new Error('è¯·ä½¿ç”¨newè°ƒç”¨');
				}
				this.name = name;

				// å®ä¾‹ä¸­çš„è®¿é—®å™¨
				Object.defineProperty(this, 'color', {
					get() {
						return 'çº¢è‰²'
					},
					set(value) {
						console.log(`ä½ è®¾ç½®äº†é¢œè‰²====${value}`)
					},
					enumerable: false
				})
			}
			return Cat2;
		})()

		// åŸå‹ä¸­çš„è®¿é—®å™¨
		Object.defineProperty(Cat2.prototype, 'color', {
			get() {
				return 'çº¢è‰²'
			},
			set(value) {
				console.log(`ä½ è®¾ç½®äº†é¢œè‰²====${value}`)
			},
			enumerable: false
		})

		// åŸå‹ä¸Šçš„æ–¹æ³•
		Object.defineProperty(Cat2.prototype, 'sayName', {
			value: function () {
				// åˆ¤æ–­å‡½æ•°ä¸èƒ½ç”¨new è°ƒé€š
				console.log("ğŸš€ ~ file: classDemotion.html:77 ~ é€š:", this)
				if (Object.getPrototypeOf(this) === Cat2.prototype.sayName.prototype) {
					throw new Error('ä¸èƒ½ä½¿ç”¨newè°ƒç”¨')
				}
				console.log(`æˆ‘çš„åå­—æ˜¯${this.name}`)
			},
			enumerable: false
		})

		const miao2 = new Cat2('miao2');
		console.log(miao2)
		miao2.sayName();
		// new miao2.sayName();
		console.log(miao2.color);
		miao2.color = 'ç»¿è‰²';


		// æ–¹æ³•ä¸å¯æšä¸¾
		// console.log(Object.keys(Cat2.prototype))
		// Cat2();
	</script>
</body>
</html>